- name: UNIDATA
  subtype: service
  filters:
    ors:
      - type: simple
        object: content
        value: 'http://www.unidata.ucar.edu/namespaces/thredds/InvCatalog/v1.0'
  service_description:
    - name: THREDDS-Catalog
      filters: 
        ors:
          - type: simple
            object: content
            value: 'http://www.unidata.ucar.edu/namespaces/thredds/InvCatalog/v1.0'
  datasets:
    - name: Dataset
      filters:
        ors:
          - type: xpath
            object: content
            value: '//*[local-name()="dataset"]'
  metadatas:
    filters:
      ors:
        - type: xpath
          object: content
          value: '//*[local-name()="service" and serviceType="ISO"]'
        - type: xpath
          object: content
          value: '//*[local-name()="service" and serviceType="NCML"]'
        - type: xpath
          object: content
          value: '//*[local-name()="service" and serviceType="UDDC"]'
  errors:
    # this is not technically an error but it is 
    # an invalid service response
    filters:
      ors:
        - type: simple
          object: content
          value: '<property name="requires_authorization"'
        - type: simple
          object: content
          value: '<variables vocabulary='
  versions:
    checks:
      ors: 
        - type: xpath
          object: content
          value: '@version'
    defaults:
      ors:
        - type: simple
          object: content
          value: 'http://www.unidata.ucar.edu/namespaces/thredds/InvCatalog/v1.0'
          text: '1.0'